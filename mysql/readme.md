
## 索引

### 索引类型
* 二叉树，红叉树
* hash 索引
* B-树
* B+树

### 索引分类
* 主键索引
* 唯一索引
* 联合索引
* 普通索引

### 索引失效的场景
* 数据类型不一致
* 字段有函数操作例（+，-，*，/）
* 使用不等于查询（!=,<>,where null , not null）
* like 查询
* 当 mysql 分析全表扫描比使用索引快的时候不使用索引

### 聚簇索引，和非聚簇索引的区别
* 聚簇索引：(索引和主键在一个文件) 节点存放的是主键和数据，主键下面就是数据，会索引覆盖 (innodb)            
* 非聚簇索引： (索引和数据分开的) 节点存放主键值,然后通过主键值再去回表查找数据 (如果只童找索引本身，那就不回表) (MyisAm)

如果一个索引包含(或者说覆盖) 所有需要查询的字段的值，我们就称 之为“翟盖索引”。



## 事务

### 事务的特性
* 原子性
    * 要么全部成功，要么全部失败
* 一致性
    * 状态总是从一个状态转移到另一个状态，不存在中间状态
* 隔离性
    * 事务提交前，对于其它事务是不可见的
* 持久性
    * 一旦提交不可改变，永远都是这样
### 事务的回滚机制
* 事务处理时，会记录在 undo log 中，通过 undo log 进行回滚

 我们在进行数据更新操作的时候，不仅会记录redo log，还会记录undo log，如果因为某些原因导致事务回滚，那么这个时候MySQL就要执行回滚（rollback）操作，利用undo log将数据恢复到事务开始之前的状态

* undo log的配置参数
```
innodb_max_undo_log_size:   undo日志文件的最大值，默认1GB，初始化大小10M
innodb_undo_log_truncate:   标识是否开启自动收缩undo log表空间的操作
innodb_undo_tablespaces:    设置独立表空间的个数，默认为0，标识不开启独立表空间，undo日志保存在ibdata1中
innodb_undo_directory:      undo日志存储的目录位置
innodb_undo_logs:           回滚的个数 默认128
```

### 事务的隔离级别

---







